<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>网络渗透测试实验一——网络扫描与网络侦察 | 1900301430&#39;s Blog.</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://1900301430.github.io/favicon.ico?v=1605429677870">
<link rel="stylesheet" href="https://1900301430.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="实验目的
理解网络扫描、网络侦察的作用；通过搭建网络渗透测试平台，了解并熟悉常用搜索引擎、扫描工具的应用，通过信息收集为下一步渗透工作打下基础。
系统环境
Kali Linux 2、Windows
网络环境
交换网络结构
实验工具
Meta..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://1900301430.github.io">
        <img src="https://1900301430.github.io/images/avatar.png?v=1605429677870" class="site-logo">
        <h1 class="site-title">1900301430&#39;s Blog.</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Just A Blog
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://1900301430.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">网络渗透测试实验一——网络扫描与网络侦察</h2>
            <div class="post-date">2020-11-02</div>
            
            <div class="post-content" v-pre>
              <h2 id="实验目的">实验目的</h2>
<p>理解网络扫描、网络侦察的作用；通过搭建网络渗透测试平台，了解并熟悉常用搜索引擎、扫描工具的应用，通过信息收集为下一步渗透工作打下基础。</p>
<h2 id="系统环境">系统环境</h2>
<p>Kali Linux 2、Windows</p>
<h2 id="网络环境">网络环境</h2>
<p>交换网络结构</p>
<h2 id="实验工具">实验工具</h2>
<p>Metasploitable2（需自行下载虚拟机镜像）；Nmap（Kali）；WinHex、数据恢复软件等</p>
<h1 id="实验步骤">实验步骤</h1>
<h2 id="1-搜索技巧">1. 搜索技巧</h2>
<p>用搜索引擎Google或百度搜索麻省理工学院网站中文件名包含“network security”的pdf文档，截图搜索得到的页面。<br>
<img src="https://img-blog.csdnimg.cn/20201101222410462.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="1" loading="lazy"></p>
<h2 id="2照片解析">2.照片解析</h2>
<p>照片中的女生在哪里旅行？截图搜索到的地址信息。<br>
<img src="https://img-blog.csdnimg.cn/2020110122252539.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="如图" loading="lazy"></p>
<p>在Google地图上输入关键信息发现其位置在法国巴黎埃菲尔铁塔附近<br>
<img src="https://img-blog.csdnimg.cn/20201101222847977.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="2-1" loading="lazy"></p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20201101222944155.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="2-2" loading="lazy"></figure>
<p>现址与图片不太相符，通过调整时间轴得知其进行过重新装潢。</p>
<h2 id="3-手机位置定位">3. 手机位置定位</h2>
<p>通过LAC（Location Area Code，位置区域码）和CID（Cell Identity，基站编号，是个16位的数据（范围是0到65535）可以查询手机接入的基站的位置，从而初步确定手机用户的位置。<br>
获取自己手机的LAC和CID：<br>
Serving Cell info–&gt;LAC=Tracking Area Code --&gt;cellid = Cell identity<br>
若不能获取，用下图信息。截图你查询到的位置信息。<br>
<img src="https://img-blog.csdnimg.cn/2020110209114413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="3" loading="lazy"></p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20201102093113590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="3-1" loading="lazy"></figure>
<p>查到上图的手机大约在桂林理工大学屏风校区周围的屏风山附近。</p>
<h2 id="4-编码解码">4. 编码解码。</h2>
<p>将Z29vZCBnb29kIHN0dWR5IQ==解码。截图。<br>
<img src="https://img-blog.csdnimg.cn/20201101223341772.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述" loading="lazy"></p>
<p>好好学习！</p>
<h2 id="5-地址信息">5. 地址信息</h2>
<h3 id="51-查找源mac地址和目的ip地址信息">5.1 查找源MAC地址和目的IP地址信息</h3>
<p>内网中捕获到一个以太帧，源MAC地址为：98-CA-33-02-27-B5；目的IP地址为：202.193.64.34，回答问题：该用户使用的什么品牌的设备，访问的是什么网站？并附截图。<br>
<img src="https://img-blog.csdnimg.cn/20201101223635835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.1-1" loading="lazy"></p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20201101223803482.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.1-2" loading="lazy"></figure>
<p>查找得知是一部苹果设备访问了桂电校园网。</p>
<h3 id="52-内外网ip">5.2 内外网IP</h3>
<p>访问 https://whatismyipaddress.com 得到MyIP信息，利用ipconfig(Windows)或ifconfig(Linux)查看本机IP地址，两者值相同吗？如果不相同的话，说明原因。</p>
<p><img src="https://img-blog.csdnimg.cn/20201101223953464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.2-1" loading="lazy"><img src="https://img-blog.csdnimg.cn/20201101224023116.png#pic_center" alt="5.2-2" loading="lazy"></p>
<p>通过访问网站得到的IP是经过路由器转换后的外网IP，而用ipconfig查到的是校园网内网的IP。</p>
<h2 id="6-nmap使用">6. NMAP使用</h2>
<h3 id="61-扫描开放端口">6.1 扫描开放端口</h3>
<p>利用NMAP扫描Metasploitable2（需下载虚拟机镜像）的端口开放情况。并附截图。说明其中四个端口的提供的服务，查阅资料，简要说明该服务的功能。</p>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20201101224704283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="6.1" loading="lazy"></figure>
<p>21（ftp）端口：<br>
主要是为了在两台计算机之间实现文件的上传与下载。</p>
<p>23（telnet）端口：<br>
为用户提供了在本地计算机上完成远程主机工作的能力。</p>
<p>53（domain）端口：<br>
主要用于域名解析。</p>
<p>80（http）端口：<br>
主要用于WWW（World Wide Web）即万维网传输信息的协议。</p>
<h3 id="62-扫描操作系统">6.2 扫描操作系统</h3>
<p>利用NMAP扫描Metasploitable2的操作系统类型，并附截图。</p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20201101230706665.png#pic_center" alt="6.2" loading="lazy"></figure>
<p>使用nmap -O IP 即可查看操作系统类型。</p>
<h3 id="63-穷举登录账号密码">6.3 穷举登录账号密码</h3>
<p>利用NMAP穷举 Metasploitable2上dvwa的登录账号和密码。</p>
<p>经查找知dvwa是网页服务器，所以它应该在80（http）端口。<br>
利用NMAP的http暴力破解脚本<strong>http-form-brute</strong>爆破/dvwa/login.php即可得到账号admin和密码password。</p>
<p>其命令为：</p>
<p>nmap -p80 --script=http-form-brute --script-args=http-form-brute.path=/dvwa/login.php IP。</p>
<h3 id="64-wannacry相关信息">6.4 WannaCry相关信息</h3>
<p>查阅资料，永恒之蓝-WannaCry蠕虫利用漏洞的相关信息。</p>
<p><strong>ETERNALROMANCE</strong>：</p>
<p>SMB 和NBT漏洞，对应MS17-010漏洞，针对139和445端口发起攻击，影响范围:Windows XP, 2003, Vista, 7, Windows 8, 2008, 2008 R2</p>
<p><strong>EMERALDTHREAD</strong>：</p>
<p>SMB和NETBIOS漏洞，对应MS10-061漏洞，针对139和445端口，影响范围：Windows XP、Windows 2003</p>
<p><strong>EDUCATEDSCHOLAR</strong>：</p>
<p>SMB服务漏洞，对应MS09-050漏洞，针对445端口</p>
<p><strong>ERRATICGOPHER</strong>:</p>
<p>SMBv1服务漏洞，针对445端口，影响范围：Windows XP、 Windows server 2003，不影响windows Vista及之后的操作系统</p>
<p><strong>ETERNALBLUE</strong>:</p>
<p>SMBv1、SMBv2漏洞，对应MS17-010，针对445端口,影响范围：较广，从WindowsXP到Windows 2012</p>
<p><strong>ETERNALSYNERGY</strong>:</p>
<p>SMBv3漏洞，对应MS17-010，针对445端口，影响范围：Windows8、Server2012</p>
<p><strong>ETERNALCHAMPION</strong>:</p>
<p>SMB v2漏洞，针对445端口</p>
<h2 id="7-zoomeye搜索发现安全问题">7. ZoomEye搜索发现安全问题</h2>
<p>利用ZoomEye搜索一个西门子公司工控设备，并描述其可能存在的安全问题。<br>
其IP地址、位置信息、网络服务提供商、开发端口等信息都被暴露出来，导致其易被攻破而无法正常工作或被利用。</p>
<h2 id="8-winhex简单数据恢复与取证">8. Winhex简单数据恢复与取证</h2>
<h3 id="81-修复图片">8.1 修复图片</h3>
<p>elephant.jpg不能打开了，利用WinHex修复，说明修复过程。</p>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20201101230115587.png#pic_center" alt="8-1" loading="lazy"></figure>
<p>用WinHex打开后发现其文件头较正常JPG文件少了一部分，将<strong>0000</strong>改为<strong>FFD8</strong>并保存后即可得到正常图片如下。</p>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20201101230331849.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="elephant.jpg" loading="lazy"></figure>
<h3 id="82-图片隐藏信息">8.2 图片隐藏信息</h3>
<p>笑脸背后的阴霾：图片smile有什么隐藏信息。<br>
<img src="https://img-blog.csdnimg.cn/20201101230445656.png#pic_center" alt="8.2" loading="lazy"></p>
<p>文件尾指出<strong>Tom is the killer</strong>。</p>
<h3 id="83-恢复u盘文件">8.3 恢复U盘文件</h3>
<p>尝试使用数据恢复软件恢复你的U盘中曾经删除的文件。</p>
<h1 id="实验小结">实验小结</h1>
<p>这里是实验小结。<br>
本实验可以实际应用到：</p>
<ol>
<li>搜索引擎的更准确利用</li>
<li>利用图片上的信息、手机的LAC、CID等信息、源MAC地址、目的IP地址查询到物理地址</li>
<li>解码base64</li>
<li>内外网IP的不同</li>
<li>利用NMAP扫描对方端口、操作系统甚至是得到对方的账号密码</li>
<li>利用ZoomEye发现某西门子设备的安全问题</li>
<li>利用WinHex修复图片及获取隐藏信息</li>
</ol>
<p>本次实验的难度并不算大，只需结合理论课内容并利用好所给工具及网络工具即可完成。本实验让我们对网络扫描与网络侦察有了初步的上手体验和理解。</p>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://1900301430.github.io/post/hello-gridea/">
                  <h3 class="post-title">
                    Hello Gridea
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
