<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>网络渗透测试实验一——网络扫描与网络侦察 | Gridea</title>
<link rel="shortcut icon" href="https://1900301430.github.io/favicon.ico?v=1605172483997">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://1900301430.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="网络渗透测试实验一——网络扫描与网络侦察 | Gridea - Atom Feed" href="https://1900301430.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="实验目的
理解网络扫描、网络侦察的作用；通过搭建网络渗透测试平台，了解并熟悉常用搜索引擎、扫描工具的应用，通过信息收集为下一步渗透工作打下基础。
系统环境
Kali Linux 2、Windows
网络环境
交换网络结构
实验工具
Meta..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://1900301430.github.io">
  <img class="avatar" src="https://1900301430.github.io/images/avatar.png?v=1605172483997" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              网络渗透测试实验一——网络扫描与网络侦察
            </h2>
            <div class="post-info">
              <span>
                2020-11-02
              </span>
              <span>
                6 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="实验目的">实验目的</h2>
<p>理解网络扫描、网络侦察的作用；通过搭建网络渗透测试平台，了解并熟悉常用搜索引擎、扫描工具的应用，通过信息收集为下一步渗透工作打下基础。</p>
<h2 id="系统环境">系统环境</h2>
<p>Kali Linux 2、Windows</p>
<h2 id="网络环境">网络环境</h2>
<p>交换网络结构</p>
<h2 id="实验工具">实验工具</h2>
<p>Metasploitable2（需自行下载虚拟机镜像）；Nmap（Kali）；WinHex、数据恢复软件等</p>
<h1 id="实验步骤">实验步骤</h1>
<h2 id="1-搜索技巧">1. 搜索技巧</h2>
<p>用搜索引擎Google或百度搜索麻省理工学院网站中文件名包含“network security”的pdf文档，截图搜索得到的页面。<br>
<img src="https://img-blog.csdnimg.cn/20201101222410462.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="1" loading="lazy"></p>
<h2 id="2照片解析">2.照片解析</h2>
<p>照片中的女生在哪里旅行？截图搜索到的地址信息。<br>
<img src="https://img-blog.csdnimg.cn/2020110122252539.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="如图" loading="lazy"></p>
<p>在Google地图上输入关键信息发现其位置在法国巴黎埃菲尔铁塔附近<br>
<img src="https://img-blog.csdnimg.cn/20201101222847977.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="2-1" loading="lazy"></p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20201101222944155.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="2-2" loading="lazy"></figure>
<p>现址与图片不太相符，通过调整时间轴得知其进行过重新装潢。</p>
<h2 id="3-手机位置定位">3. 手机位置定位</h2>
<p>通过LAC（Location Area Code，位置区域码）和CID（Cell Identity，基站编号，是个16位的数据（范围是0到65535）可以查询手机接入的基站的位置，从而初步确定手机用户的位置。<br>
获取自己手机的LAC和CID：<br>
Serving Cell info–&gt;LAC=Tracking Area Code --&gt;cellid = Cell identity<br>
若不能获取，用下图信息。截图你查询到的位置信息。<br>
<img src="https://img-blog.csdnimg.cn/2020110209114413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="3" loading="lazy"></p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20201102093113590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="3-1" loading="lazy"></figure>
<p>查到上图的手机大约在桂林理工大学屏风校区周围的屏风山附近。</p>
<h2 id="4-编码解码">4. 编码解码。</h2>
<p>将Z29vZCBnb29kIHN0dWR5IQ==解码。截图。<br>
<img src="https://img-blog.csdnimg.cn/20201101223341772.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述" loading="lazy"></p>
<p>好好学习！</p>
<h2 id="5-地址信息">5. 地址信息</h2>
<h3 id="51-查找源mac地址和目的ip地址信息">5.1 查找源MAC地址和目的IP地址信息</h3>
<p>内网中捕获到一个以太帧，源MAC地址为：98-CA-33-02-27-B5；目的IP地址为：202.193.64.34，回答问题：该用户使用的什么品牌的设备，访问的是什么网站？并附截图。<br>
<img src="https://img-blog.csdnimg.cn/20201101223635835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.1-1" loading="lazy"></p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20201101223803482.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.1-2" loading="lazy"></figure>
<p>查找得知是一部苹果设备访问了桂电校园网。</p>
<h3 id="52-内外网ip">5.2 内外网IP</h3>
<p>访问 https://whatismyipaddress.com 得到MyIP信息，利用ipconfig(Windows)或ifconfig(Linux)查看本机IP地址，两者值相同吗？如果不相同的话，说明原因。</p>
<p><img src="https://img-blog.csdnimg.cn/20201101223953464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="5.2-1" loading="lazy"><img src="https://img-blog.csdnimg.cn/20201101224023116.png#pic_center" alt="5.2-2" loading="lazy"></p>
<p>通过访问网站得到的IP是经过路由器转换后的外网IP，而用ipconfig查到的是校园网内网的IP。</p>
<h2 id="6-nmap使用">6. NMAP使用</h2>
<h3 id="61-扫描开放端口">6.1 扫描开放端口</h3>
<p>利用NMAP扫描Metasploitable2（需下载虚拟机镜像）的端口开放情况。并附截图。说明其中四个端口的提供的服务，查阅资料，简要说明该服务的功能。</p>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20201101224704283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="6.1" loading="lazy"></figure>
<p>21（ftp）端口：<br>
主要是为了在两台计算机之间实现文件的上传与下载。</p>
<p>23（telnet）端口：<br>
为用户提供了在本地计算机上完成远程主机工作的能力。</p>
<p>53（domain）端口：<br>
主要用于域名解析。</p>
<p>80（http）端口：<br>
主要用于WWW（World Wide Web）即万维网传输信息的协议。</p>
<h3 id="62-扫描操作系统">6.2 扫描操作系统</h3>
<p>利用NMAP扫描Metasploitable2的操作系统类型，并附截图。</p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20201101230706665.png#pic_center" alt="6.2" loading="lazy"></figure>
<p>使用nmap -O IP 即可查看操作系统类型。</p>
<h3 id="63-穷举登录账号密码">6.3 穷举登录账号密码</h3>
<p>利用NMAP穷举 Metasploitable2上dvwa的登录账号和密码。</p>
<p>经查找知dvwa是网页服务器，所以它应该在80（http）端口。<br>
利用NMAP的http暴力破解脚本<strong>http-form-brute</strong>爆破/dvwa/login.php即可得到账号admin和密码password。</p>
<p>其命令为：</p>
<p>nmap -p80 --script=http-form-brute --script-args=http-form-brute.path=/dvwa/login.php IP。</p>
<h3 id="64-wannacry相关信息">6.4 WannaCry相关信息</h3>
<p>查阅资料，永恒之蓝-WannaCry蠕虫利用漏洞的相关信息。</p>
<p><strong>ETERNALROMANCE</strong>：</p>
<p>SMB 和NBT漏洞，对应MS17-010漏洞，针对139和445端口发起攻击，影响范围:Windows XP, 2003, Vista, 7, Windows 8, 2008, 2008 R2</p>
<p><strong>EMERALDTHREAD</strong>：</p>
<p>SMB和NETBIOS漏洞，对应MS10-061漏洞，针对139和445端口，影响范围：Windows XP、Windows 2003</p>
<p><strong>EDUCATEDSCHOLAR</strong>：</p>
<p>SMB服务漏洞，对应MS09-050漏洞，针对445端口</p>
<p><strong>ERRATICGOPHER</strong>:</p>
<p>SMBv1服务漏洞，针对445端口，影响范围：Windows XP、 Windows server 2003，不影响windows Vista及之后的操作系统</p>
<p><strong>ETERNALBLUE</strong>:</p>
<p>SMBv1、SMBv2漏洞，对应MS17-010，针对445端口,影响范围：较广，从WindowsXP到Windows 2012</p>
<p><strong>ETERNALSYNERGY</strong>:</p>
<p>SMBv3漏洞，对应MS17-010，针对445端口，影响范围：Windows8、Server2012</p>
<p><strong>ETERNALCHAMPION</strong>:</p>
<p>SMB v2漏洞，针对445端口</p>
<h2 id="7-zoomeye搜索发现安全问题">7. ZoomEye搜索发现安全问题</h2>
<p>利用ZoomEye搜索一个西门子公司工控设备，并描述其可能存在的安全问题。<br>
其IP地址、位置信息、网络服务提供商、开发端口等信息都被暴露出来，导致其易被攻破而无法正常工作或被利用。</p>
<h2 id="8-winhex简单数据恢复与取证">8. Winhex简单数据恢复与取证</h2>
<h3 id="81-修复图片">8.1 修复图片</h3>
<p>elephant.jpg不能打开了，利用WinHex修复，说明修复过程。</p>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20201101230115587.png#pic_center" alt="8-1" loading="lazy"></figure>
<p>用WinHex打开后发现其文件头较正常JPG文件少了一部分，将<strong>0000</strong>改为<strong>FFD8</strong>并保存后即可得到正常图片如下。</p>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20201101230331849.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01KXzE5MDAzMDE0MzA=,size_16,color_FFFFFF,t_70#pic_center" alt="elephant.jpg" loading="lazy"></figure>
<h3 id="82-图片隐藏信息">8.2 图片隐藏信息</h3>
<p>笑脸背后的阴霾：图片smile有什么隐藏信息。<br>
<img src="https://img-blog.csdnimg.cn/20201101230445656.png#pic_center" alt="8.2" loading="lazy"></p>
<p>文件尾指出<strong>Tom is the killer</strong>。</p>
<h3 id="83-恢复u盘文件">8.3 恢复U盘文件</h3>
<p>尝试使用数据恢复软件恢复你的U盘中曾经删除的文件。</p>
<h1 id="实验小结">实验小结</h1>
<p>这里是实验小结。<br>
本实验可以实际应用到：</p>
<ol>
<li>搜索引擎的更准确利用</li>
<li>利用图片上的信息、手机的LAC、CID等信息、源MAC地址、目的IP地址查询到物理地址</li>
<li>解码base64</li>
<li>内外网IP的不同</li>
<li>利用NMAP扫描对方端口、操作系统甚至是得到对方的账号密码</li>
<li>利用ZoomEye发现某西门子设备的安全问题</li>
<li>利用WinHex修复图片及获取隐藏信息</li>
</ol>
<p>本次实验的难度并不算大，只需结合理论课内容并利用好所给工具及网络工具即可完成。本实验让我们对网络扫描与网络侦察有了初步的上手体验和理解。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84">实验目的</a></li>
<li><a href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83">系统环境</a></li>
<li><a href="#%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83">网络环境</a></li>
<li><a href="#%E5%AE%9E%E9%AA%8C%E5%B7%A5%E5%85%B7">实验工具</a></li>
</ul>
</li>
<li><a href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4">实验步骤</a>
<ul>
<li><a href="#1-%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7">1. 搜索技巧</a></li>
<li><a href="#2%E7%85%A7%E7%89%87%E8%A7%A3%E6%9E%90">2.照片解析</a></li>
<li><a href="#3-%E6%89%8B%E6%9C%BA%E4%BD%8D%E7%BD%AE%E5%AE%9A%E4%BD%8D">3. 手机位置定位</a></li>
<li><a href="#4-%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81">4. 编码解码。</a></li>
<li><a href="#5-%E5%9C%B0%E5%9D%80%E4%BF%A1%E6%81%AF">5. 地址信息</a>
<ul>
<li><a href="#51-%E6%9F%A5%E6%89%BE%E6%BA%90mac%E5%9C%B0%E5%9D%80%E5%92%8C%E7%9B%AE%E7%9A%84ip%E5%9C%B0%E5%9D%80%E4%BF%A1%E6%81%AF">5.1 查找源MAC地址和目的IP地址信息</a></li>
<li><a href="#52-%E5%86%85%E5%A4%96%E7%BD%91ip">5.2 内外网IP</a></li>
</ul>
</li>
<li><a href="#6-nmap%E4%BD%BF%E7%94%A8">6. NMAP使用</a>
<ul>
<li><a href="#61-%E6%89%AB%E6%8F%8F%E5%BC%80%E6%94%BE%E7%AB%AF%E5%8F%A3">6.1 扫描开放端口</a></li>
<li><a href="#62-%E6%89%AB%E6%8F%8F%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">6.2 扫描操作系统</a></li>
<li><a href="#63-%E7%A9%B7%E4%B8%BE%E7%99%BB%E5%BD%95%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81">6.3 穷举登录账号密码</a></li>
<li><a href="#64-wannacry%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">6.4 WannaCry相关信息</a></li>
</ul>
</li>
<li><a href="#7-zoomeye%E6%90%9C%E7%B4%A2%E5%8F%91%E7%8E%B0%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98">7. ZoomEye搜索发现安全问题</a></li>
<li><a href="#8-winhex%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E4%B8%8E%E5%8F%96%E8%AF%81">8. Winhex简单数据恢复与取证</a>
<ul>
<li><a href="#81-%E4%BF%AE%E5%A4%8D%E5%9B%BE%E7%89%87">8.1 修复图片</a></li>
<li><a href="#82-%E5%9B%BE%E7%89%87%E9%9A%90%E8%97%8F%E4%BF%A1%E6%81%AF">8.2 图片隐藏信息</a></li>
<li><a href="#83-%E6%81%A2%E5%A4%8Du%E7%9B%98%E6%96%87%E4%BB%B6">8.3 恢复U盘文件</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%AE%9E%E9%AA%8C%E5%B0%8F%E7%BB%93">实验小结</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://1900301430.github.io/post/hello-gridea/">
              <h3 class="post-title">
                Hello Gridea
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://1900301430.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
